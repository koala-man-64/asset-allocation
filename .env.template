AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_CONNECTION_STRING=
YAHOO_USERNAME=
YAHOO_PASSWORD=
AZURE_CONTAINER_MARKET=
AZURE_CONTAINER_FINANCE=
AZURE_CONTAINER_EARNINGS=
AZURE_CONTAINER_TARGETS=
AZURE_CONTAINER_COMMON=
AZURE_CONTAINER_RANKING=
AZURE_CONTAINER_BRONZE=
AZURE_CONTAINER_SILVER=
HEADLESS_MODE=TRUE
ENABLE_ENV_DIAGNOSTICS=false

# System health monitoring (FastAPI: GET /system/health)
SYSTEM_HEALTH_TTL_SECONDS=30
SYSTEM_HEALTH_MAX_AGE_SECONDS=129600
SYSTEM_HEALTH_RANKING_MAX_AGE_SECONDS=259200

# Optional: Azure control-plane probes (ARM) for Container Apps + Jobs
SYSTEM_HEALTH_ARM_SUBSCRIPTION_ID=
SYSTEM_HEALTH_ARM_RESOURCE_GROUP=
SYSTEM_HEALTH_ARM_CONTAINERAPPS= # comma-separated names
SYSTEM_HEALTH_ARM_JOBS= # comma-separated names
SYSTEM_HEALTH_ARM_API_VERSION=2023-05-01
SYSTEM_HEALTH_ARM_TIMEOUT_SECONDS=5.0
SYSTEM_HEALTH_JOB_EXECUTIONS_PER_JOB=3

# Optional: Azure Resource Health (runtime availability)
SYSTEM_HEALTH_RESOURCE_HEALTH_ENABLED=false
SYSTEM_HEALTH_RESOURCE_HEALTH_API_VERSION=2022-10-01

# Optional: Azure Monitor Metrics (runtime telemetry)
SYSTEM_HEALTH_MONITOR_METRICS_ENABLED=false
SYSTEM_HEALTH_MONITOR_METRICS_API_VERSION=2018-01-01
SYSTEM_HEALTH_MONITOR_METRICS_TIMESPAN_MINUTES=15
SYSTEM_HEALTH_MONITOR_METRICS_INTERVAL=PT1M
SYSTEM_HEALTH_MONITOR_METRICS_AGGREGATION=Average
SYSTEM_HEALTH_MONITOR_METRICS_CONTAINERAPP_METRICS= # comma-separated metric names
SYSTEM_HEALTH_MONITOR_METRICS_JOB_METRICS= # comma-separated metric names
SYSTEM_HEALTH_MONITOR_METRICS_THRESHOLDS_JSON= # JSON object: {"MetricName":{"warn_above":80,"error_above":95}}

# Optional: Azure Log Analytics (KQL aggregates only; no raw logs returned)
SYSTEM_HEALTH_LOG_ANALYTICS_ENABLED=false
SYSTEM_HEALTH_LOG_ANALYTICS_WORKSPACE_ID=
SYSTEM_HEALTH_LOG_ANALYTICS_TIMEOUT_SECONDS=5.0
SYSTEM_HEALTH_LOG_ANALYTICS_TIMESPAN_MINUTES=15
SYSTEM_HEALTH_LOG_ANALYTICS_QUERIES_JSON= # JSON array: [{"resourceType":"Microsoft.App/containerApps","name":"errors_15m","query":"... {resourceName} ...","warnAbove":1,"errorAbove":10,"unit":"count"}]
# Example (single-line JSON; paste and adjust thresholds as needed):
# SYSTEM_HEALTH_LOG_ANALYTICS_QUERIES_JSON=[{"resourceType":"Microsoft.App/jobs","name":"job_errors_15m","query":"ContainerAppConsoleLogs_CL|where TimeGenerated>ago(15m)|where ContainerJobName_s=='{resourceName}'|extend j=parse_json(Log_s)|extend level=tostring(j.level)|where Stream_s=='stderr' or level in ('ERROR','CRITICAL') or Log_s has 'Traceback'|summarize count()","warnAbove":1,"errorAbove":10,"unit":"count"},{"resourceType":"Microsoft.App/containerApps","name":"app_errors_15m","query":"ContainerAppConsoleLogs_CL|where TimeGenerated>ago(15m)|where ContainerAppName_s=='{resourceName}'|extend j=parse_json(Log_s)|extend level=tostring(j.level)|where Stream_s=='stderr' or level in ('ERROR','CRITICAL') or Log_s has 'Traceback'|summarize count()","warnAbove":1,"errorAbove":10,"unit":"count"}]

# Include Azure resource IDs in /system/health response (only when BACKTEST_AUTH_MODE != none)
SYSTEM_HEALTH_VERBOSE_IDS=false
