DISABLE_DOTENV=
LOG_FORMAT=
LOG_LEVEL=
AZURE_STORAGE_ACCOUNT_NAME=
AZURE_STORAGE_CONNECTION_STRING=
YAHOO_USERNAME=
YAHOO_PASSWORD=
NASDAQ_API_KEY=
AZURE_FOLDER_MARKET=
AZURE_FOLDER_FINANCE=
AZURE_FOLDER_EARNINGS=
AZURE_FOLDER_TARGETS=
AZURE_CONTAINER_COMMON=
AZURE_CONTAINER_BRONZE=
AZURE_CONTAINER_SILVER=
AZURE_CONTAINER_GOLD=
AZURE_CONTAINER_PLATINUM=
HEADLESS_MODE=TRUE
ENABLE_ENV_DIAGNOSTICS=false

# System health monitoring (FastAPI: GET /api/system/health)
SYSTEM_HEALTH_TTL_SECONDS=10
SYSTEM_HEALTH_MAX_AGE_SECONDS=129600

# Optional: Azure control-plane probes (ARM) for Container Apps + Jobs
SYSTEM_HEALTH_ARM_SUBSCRIPTION_ID=
SYSTEM_HEALTH_ARM_RESOURCE_GROUP=
SYSTEM_HEALTH_ARM_CONTAINERAPPS= # comma-separated names
SYSTEM_HEALTH_ARM_JOBS= # comma-separated names
SYSTEM_HEALTH_ARM_API_VERSION=
SYSTEM_HEALTH_ARM_TIMEOUT_SECONDS=
SYSTEM_HEALTH_JOB_EXECUTIONS_PER_JOB=

# Optional: Azure Resource Health (runtime availability)
SYSTEM_HEALTH_RESOURCE_HEALTH_ENABLED=
SYSTEM_HEALTH_RESOURCE_HEALTH_API_VERSION=

# Optional: Azure Monitor Metrics (runtime telemetry)
SYSTEM_HEALTH_MONITOR_METRICS_ENABLED=
SYSTEM_HEALTH_MONITOR_METRICS_API_VERSION=
SYSTEM_HEALTH_MONITOR_METRICS_TIMESPAN_MINUTES=
SYSTEM_HEALTH_MONITOR_METRICS_INTERVAL=
SYSTEM_HEALTH_MONITOR_METRICS_AGGREGATION=
SYSTEM_HEALTH_MONITOR_METRICS_CONTAINERAPP_METRICS= # comma-separated metric names
SYSTEM_HEALTH_MONITOR_METRICS_JOB_METRICS= # comma-separated metric names
SYSTEM_HEALTH_MONITOR_METRICS_THRESHOLDS_JSON= # JSON object: {"MetricName":{"warn_above":80,"error_above":95}}

# Optional: Azure Log Analytics (KQL aggregates + job execution log tails)
SYSTEM_HEALTH_LOG_ANALYTICS_ENABLED=
SYSTEM_HEALTH_LOG_ANALYTICS_WORKSPACE_ID=
SYSTEM_HEALTH_LOG_ANALYTICS_TIMEOUT_SECONDS=
SYSTEM_HEALTH_LOG_ANALYTICS_TIMESPAN_MINUTES=
SYSTEM_HEALTH_LOG_ANALYTICS_QUERIES_JSON= # JSON array: [{"resourceType":"Microsoft.App/containerApps","name":"errors_15m","query":"... {resourceName} ...","warnAbove":1,"errorAbove":10,"unit":"count"}]
# Example (single-line JSON; paste and adjust thresholds as needed):
# SYSTEM_HEALTH_LOG_ANALYTICS_QUERIES_JSON=[{"resourceType":"Microsoft.App/jobs","name":"job_errors_15m","query":"ContainerAppConsoleLogs_CL|where TimeGenerated>ago(15m)|where ContainerJobName_s=='{resourceName}'|extend j=parse_json(Log_s)|extend level=tostring(j.level)|where Stream_s=='stderr' or level in ('ERROR','CRITICAL') or Log_s has 'Traceback'|summarize count()","warnAbove":1,"errorAbove":10,"unit":"count"},{"resourceType":"Microsoft.App/containerApps","name":"app_errors_15m","query":"ContainerAppConsoleLogs_CL|where TimeGenerated>ago(15m)|where ContainerAppName_s=='{resourceName}'|extend j=parse_json(Log_s)|extend level=tostring(j.level)|where Stream_s=='stderr' or level in ('ERROR','CRITICAL') or Log_s has 'Traceback'|summarize count()","warnAbove":1,"errorAbove":10,"unit":"count"}]

# Include Azure resource IDs in /system/health response
SYSTEM_HEALTH_VERBOSE_IDS=

# API Service
API_KEY=
API_KEY_HEADER=
API_AUTH_MODE=
API_OIDC_ISSUER=
API_OIDC_AUDIENCE=
API_OIDC_JWKS_URL=
API_OIDC_REQUIRED_SCOPES=
API_OIDC_REQUIRED_ROLES=
POSTGRES_DSN=
API_CSP=
UI_AUTH_MODE=
UI_OIDC_CLIENT_ID=
UI_OIDC_AUTHORITY=
UI_OIDC_SCOPES=
UI_API_BASE_URL=

# Pipeline refresh controls
SILVER_LATEST_ONLY= # default true for market/earnings
SILVER_MARKET_LATEST_ONLY=
SILVER_EARNINGS_LATEST_ONLY=
BACKFILL_START_DATE= # YYYY-MM-DD (optional)
BACKFILL_END_DATE= # YYYY-MM-DD (optional)
MATERIALIZE_WINDOW_MONTHS= # default 1 (yesterday's month)
TRIGGER_NEXT_JOB_RETRY_ATTEMPTS= # default 3
TRIGGER_NEXT_JOB_RETRY_BASE_SECONDS= # default 1.0
