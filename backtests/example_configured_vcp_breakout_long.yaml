run_name: "EXAMPLE-CONFIGURED-VCP-BREAKOUT-LONG"
start_date: "2024-01-01"
end_date: "2024-12-31"
initial_cash: 100000.0

universe:
  symbols:
    - "AAPL"
    - "MSFT"

data:
  price_source: "ADLS"
  price_path: "silver/market-data/{symbol}"
  signal_path: "ranking-data/platinum/signals/daily"
  frequency: "Daily"

strategy:
  type: configured
  rebalance:
    freq: daily
  universe:
    source: signals
    filters: []
    require_columns: ["symbol", "date", "open", "close"]
  signals:
    provider: platinum_signals_daily
    columns: ["vcp_score"]
  scoring:
    type: column
    column: vcp_score
    fillna: drop
  selection:
    type: long_short_topn
    long_short_topn:
      long_n: 10
      short_n: 0
      min_abs_score: 0.0
      allow_short: false
      long_if_high: true
  holding_policy:
    type: replace_all
    replace_all:
      exit_if_not_selected: false
      refresh_held_scores: true
      refresh_mode: abs_signed
  exits:
    precedence: exit_over_scale
    rules:
      - type: trailing_ma
        days: 10
        price_col: close
        side_aware: true
  postprocess:
    steps: []
  debug:
    record_intermediates: false
    record_reasons: false

sizing:
  class: "LongShortScoreSizer"
  parameters:
    max_longs: 10
    max_shorts: 0
    gross_target: 1.0
    net_target: 1.0
    weight_mode: "equal"
    sticky_holdings: true

constraints:
  allow_short: false
  max_leverage: 1.0
  max_position_size: 0.10
  max_turnover: 0.50
  min_weight_change: 0.002

broker:
  commission: 0.0005
  slippage_bps: 2.0
  fill_policy: "next_open"

output:
  local_dir: "./backtest_results"
