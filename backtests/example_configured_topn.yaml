run_name: "EXAMPLE-CONFIGURED-TOPN"
start_date: "2024-01-01"
end_date: "2024-12-31"
initial_cash: 100000.0

universe:
  symbols:
    - "AAPL"
    - "MSFT"

data:
  price_source: "ADLS"
  price_path: "silver/market-data/{symbol}"
  signal_path: "ranking-data/platinum/signals/daily"
  frequency: "Daily"

strategy:
  type: configured
  rebalance:
    freq: daily
  universe:
    source: signals
    filters: []
    require_columns: ["symbol", "date", "open", "close"]
  signals:
    provider: platinum_signals_daily
    columns: ["composite_percentile"]
  scoring:
    type: column
    column: composite_percentile
    fillna: drop
  selection:
    type: topn
    topn:
      n: 1
      side: long
      min_score: null
      higher_is_better: true
  holding_policy:
    type: replace_all
    replace_all:
      exit_if_not_selected: true
  exits:
    precedence: exit_over_scale
    rules: []
  postprocess:
    steps: []
  debug:
    record_intermediates: true
    record_reasons: true

sizing:
  class: EqualWeightSizer
  parameters:
    max_positions: 1

constraints:
  allow_short: false
  max_leverage: 1.0
  max_position_size: 1.0

broker:
  commission: 0.0005
  slippage_bps: 2.0
  fill_policy: "next_open"

output:
  local_dir: "./backtest_results"
